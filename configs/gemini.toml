# Halt configuration for Google Gemini CLI
#
# Restricts Gemini CLI to Google's AI APIs and common developer package
# registries. Filesystem access is limited to your project directory plus
# system defaults.
#
# Usage:
#   halt run --config configs/gemini.toml -- gemini
#
# Tighter usage:
#   halt run --no-config --config configs/gemini.toml -- gemini

[sandbox]
network = { mode = "proxy_only" }

[proxy]
domain_allowlist = [
  # Google AI / Gemini APIs
  "generativelanguage.googleapis.com",
  "aiplatform.googleapis.com",
  "cloudresourcemanager.googleapis.com",
  "oauth2.googleapis.com",
  "accounts.google.com",

  # GitHub
  "github.com",
  "*.github.com",
  "raw.githubusercontent.com",
  "objects.githubusercontent.com",
  "codeload.github.com",

  # npm (JavaScript / Node.js)
  "registry.npmjs.org",
  "*.npmjs.org",

  # PyPI (Python)
  "pypi.org",
  "files.pythonhosted.org",

  # crates.io (Rust)
  "crates.io",
  "static.crates.io",
  "index.crates.io",

  # RubyGems
  "rubygems.org",

  # Go module proxy
  "proxy.golang.org",
  "sum.golang.org",
  "storage.googleapis.com",
]
